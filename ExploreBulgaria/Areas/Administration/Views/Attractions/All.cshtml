@using ExploreBulgaria.Web.ViewModels.Administration;
@model AttractionTemporaryListViewModel

<div class="search-form pt-5">
    <div class="container p-0">
        <form name="gs" method="get" asp-area="Administration" asp-controller="Attractions" asp-action="All">
            <div class="row">
                <input name="searchTerm" value="@Model.FilterModel.SearchTerm" 
                       placeholder="Търсене" class="col-md-3 offset-md-3 form-control-md" />
                <button type="submit" class="col-md-2 offset-md-1 border-button text-center main-button">Търси</button>
            </div>
        </form>
    </div>
</div>

<div class="amazing-deals">
    <div class="container">
        <div class="row all-items">
            @foreach (var attraction in Model.Attractions)
            {
                <div class="col-lg-6 @if(Model.Attractions.Count() <= 6){<text>offset-lg-3</text>} col-sm-6 card-outer">
                    <div class="item card-inner" style="padding-left: 30px">
                        <div class="row">                               
                            <div class="align-self-center">
                                <div class="content">
                                    <span class="info">*@attraction.Region</span>
                                    <h4 class="lh-1">@attraction.Name</h4>                         
                                    <div class="row">
                                        <div class="col-6">
                                            <i class="fa-regular fa-images"></i>
                                            <span class="list">@attraction.ImageGuids.Split(", ").Length</span>
                                        </div>
                                        <div class="col-6">
                                            <i class="fa-regular fa-calendar-days"></i>
                                            <span class="list">@attraction.CreatedOn.ToShortDateString()</span>
                                        </div>
                                    </div>
                                    <p>
                                        <i class="fa-regular fa-user"></i>
                                        @attraction.CreatedByVisitorId
                                    </p>
                                    <p>@attraction.Description ...</p>
                                    <form id="form" asp-controller="Attractions" asp-action="Details" method="post">
                                        <input type="hidden" name="attractionId" value="@attraction.Id">
                                        <button type="submit" class="main-button">Разгледай</button>
                                    </form>
                                </div>
                            </div>
                        </div>                                                                       
                    </div>
                </div>
            }  
            <form id="antiForgeryForm" method="post"></form>
            @(await Html.PartialAsync("~/Views/Shared/_PagingPartial.cshtml", Model))
        </div>
    </div>
</div>
